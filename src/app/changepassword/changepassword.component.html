<div class="main">
  <section class="otp-content">
    <div class="otp-content-lt"></div>
    <div class="otp-content-rt">
      <div class="otp-box">
        <form class="otp-form" [formGroup]="changePassword" (ngSubmit)="onSubmit()">
          <div class="logo-wrapper">
            <img src="../assets/images/logo.svg" alt="Rishabh Software">
            <span>Meal Facility</span>
          </div>
          <h3 class="otp-head">Change Password</h3>
          <p class="otp-text">Create new password for your account.</p>
          
          <div class="form-group">
            <label class="control-label">Email</label>
            <div class="input-addon">
              <input formControlName="email" class="form-control" type="email" placeholder="Email">
            </div>
            <div *ngIf="f['email'].touched && f['email'].invalid" class="text-danger">
              <div *ngIf="f['email'].errors?.['required']">Email is required</div>
              <div *ngIf="f['email'].errors?.['email']">Invalid email format</div>
            </div>
          </div>

          <div class="form-group">
            <label class="control-label">Old Password</label>
            <div class="input-addon">
              <input formControlName="oldPassword" class="form-control" [type]="type" placeholder="Old Password">
              <i class="fa" [ngClass]="{'fa-eye': !hide, 'fa-eye-slash': hide}" (click)="toggleVisibility()"></i>
            </div>
            <div *ngIf="f['oldPassword'].touched && f['oldPassword'].invalid" class="text-danger">
              Old Password is required
            </div>
          </div>

          <div class="form-group">
            <label class="control-label">New Password</label>
            <div class="input-addon">
              <input formControlName="newPassword" class="form-control" [type]="type" placeholder="New Password">
              <i class="fa" [ngClass]="{'fa-eye': !hide, 'fa-eye-slash': hide}" (click)="toggleVisibility()"></i>
            </div>
            <div *ngIf="f['newPassword'].touched && f['newPassword'].invalid" class="text-danger">
              <div *ngIf="f['newPassword'].errors?.['required']">New Password is required</div>
              <div *ngIf="f['newPassword'].errors?.['minlength']">New Password must be at least 6 characters</div>
            </div>
          </div>
          
          <div class="form-group">
            <label class="control-label">Confirm Password</label>
            <div class="input-addon">
              <input formControlName="confirmPassword" class="form-control" [type]="type" placeholder="Confirm Password">
              <i class="fa" [ngClass]="{'fa-eye': !hide, 'fa-eye-slash': hide}" (click)="toggleVisibility()"></i>
            </div>
            <div *ngIf="f['confirmPassword'].touched && f['confirmPassword'].invalid" class="text-danger">
              <div *ngIf="f['confirmPassword'].errors?.['required']">Confirm Password is required</div>
              <div *ngIf="changePassword.errors?.['mismatch']">Passwords do not match</div>
            </div>
          </div>

          <div class="form-group btn-container">
            <button type="submit" class="btn btn-xl btn-primary">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </section>
</div>
